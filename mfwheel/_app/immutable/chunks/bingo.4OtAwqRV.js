import{s as C,a as v,t as W,c as B,b as w,f as G,d,q as E,z as u,i as y,h as A,r as J,j as K,n as I,o as F,w as Q,y as M,e as j,k as U,m as X}from"./scheduler.jlYw4Pw6.js";import{S,i as H,a as h,g as L,c as O,t as p,b as Y,d as Z,m as $,e as ee}from"./index.afzxeEEq.js";import{e as _}from"./each.-oqiv04n.js";import{s as z}from"./shuffleArray.sZTx0byE.js";import{g as te,a as D,b as R}from"./bingoItems.TiorD81F.js";function le(r,l){let s=[];for(let f=l;f>0;f--)s.push(r.splice(0,Math.ceil(r.length/f)));return s}function ie(r){let l,s,f,e,c;return{c(){l=v("div"),s=v("p"),f=W(r[0]),this.h()},l(t){l=B(t,"DIV",{class:!0});var i=w(l);s=B(i,"P",{class:!0});var n=w(s);f=G(n,r[0]),n.forEach(d),i.forEach(d),this.h()},h(){E(s,"class","w-5/6 h-5/6 svelte-j4f3ne"),E(l,"class","flex flex-col justify-center align-center items-center border border-white svelte-j4f3ne"),u(l,"found",r[3]),u(l,"deferring",r[2]),u(l,"loading",r[4]),u(l,"doneloading",!r[4])},m(t,i){y(t,l,i),A(l,s),A(s,f),r[6](s),e||(c=J(l,"click",r[7]),e=!0)},p(t,[i]){i&1&&K(f,t[0]),i&8&&u(l,"found",t[3]),i&4&&u(l,"deferring",t[2]),i&16&&u(l,"loading",t[4]),i&16&&u(l,"doneloading",!t[4])},i:I,o:I,d(t){t&&d(l),r[6](null),e=!1,c()}}}function ne(r,l,s){let{difficulty:f}=l,{text:e}=l,c,t,i=!1,n=!0;function o(){clearTimeout(t),s(2,t=setTimeout(()=>{m(),s(2,t=null)},1250))}function m(){textFit(c,{alignVert:!0,alignHoriz:!0,alignVertWithFlexbox:!1})}F(()=>{m(),addEventListener("resize",o),s(4,n=!1)});function b(a){Q[a?"unshift":"push"](()=>{c=a,s(1,c)})}const g=()=>{s(3,i=!i)};return r.$$set=a=>{"difficulty"in a&&s(5,f=a.difficulty),"text"in a&&s(0,e=a.text)},[e,c,t,i,n,f,b,g]}class fe extends S{constructor(l){super(),H(this,l,ne,ie,C,{difficulty:5,text:0})}}function T(r,l,s){const f=r.slice();return f[6]=l[s],f}function V(r,l,s){const f=r.slice();return f[9]=l[s],f}function N(r){let l,s,f;return l=new fe({props:{text:r[9].task,difficulty:r[9].difficulty}}),{c(){Y(l.$$.fragment),s=U()},l(e){Z(l.$$.fragment,e),s=X(e)},m(e,c){$(l,e,c),y(e,s,c),f=!0},p(e,c){const t={};c&1&&(t.text=e[9].task),c&1&&(t.difficulty=e[9].difficulty),l.$set(t)},i(e){f||(h(l.$$.fragment,e),f=!0)},o(e){p(l.$$.fragment,e),f=!1},d(e){e&&d(s),ee(l,e)}}}function q(r){let l,s,f=_(r[6]),e=[];for(let t=0;t<f.length;t+=1)e[t]=N(V(r,f,t));const c=t=>p(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=j()},l(t){for(let i=0;i<e.length;i+=1)e[i].l(t);l=j()},m(t,i){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,i);y(t,l,i),s=!0},p(t,i){if(i&1){f=_(t[6]);let n;for(n=0;n<f.length;n+=1){const o=V(t,f,n);e[n]?(e[n].p(o,i),h(e[n],1)):(e[n]=N(o),e[n].c(),h(e[n],1),e[n].m(l.parentNode,l))}for(L(),n=f.length;n<e.length;n+=1)c(n);O()}},i(t){if(!s){for(let i=0;i<f.length;i+=1)h(e[i]);s=!0}},o(t){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)p(e[i]);s=!1},d(t){t&&d(l),M(e,t)}}}function se(r){let l,s,f=_(r[0]),e=[];for(let t=0;t<f.length;t+=1)e[t]=q(T(r,f,t));const c=t=>p(e[t],1,1,()=>{e[t]=null});return{c(){l=v("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=B(t,"DIV",{class:!0});var i=w(l);for(let n=0;n<e.length;n+=1)e[n].l(i);i.forEach(d),this.h()},h(){E(l,"class","wrapper svelte-148ggj2")},m(t,i){y(t,l,i);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,null);s=!0},p(t,[i]){if(i&1){f=_(t[0]);let n;for(n=0;n<f.length;n+=1){const o=T(t,f,n);e[n]?(e[n].p(o,i),h(e[n],1)):(e[n]=q(o),e[n].c(),h(e[n],1),e[n].m(l,null))}for(L(),n=f.length;n<e.length;n+=1)c(n);O()}},i(t){if(!s){for(let i=0;i<f.length;i+=1)h(e[i]);s=!0}},o(t){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)p(e[i]);s=!1},d(t){t&&d(l),M(e,t)}}}function re(r,l,s){const f={difficulty0:"difficulty0",difficulty1:"difficulty1",difficulty2plus:"difficulty2plus",difficulty3plus:"difficulty3plus"},e={difficulty0:10,difficulty1:10,difficulty2plus:4,difficulty3plus:1},c={all:te(),difficulty0:D(0),difficulty1:D(1),difficulty2plus:R(2),difficulty3plus:R(3)};let t=[];function i(o,m,b){if(o>c.length)throw new Error("trying to get more bingo items than there are available ones!");let g=Array.from(c[m]),a=[];return g.forEach(k=>{let x=!0;b.forEach(P=>{k.task==P.task&&(console.warn(`Refusing to push ${k.task} as it already exists`),x=!1)}),x&&a.push(k)}),g=z(a),g.slice(0,o)}function n(){let o=[];o.push(...i(e.difficulty0,f.difficulty0,o)),o.push(...i(e.difficulty1,f.difficulty1,o)),o.push(...i(e.difficulty2plus,f.difficulty2plus,o)),o.push(...i(e.difficulty3plus,f.difficulty3plus,o)),console.log(o[o.length-1],"was the guaranteed d3+"),o=z(o),s(0,t=le(o,5))}return F(()=>{n()}),[t]}class he extends S{constructor(l){super(),H(this,l,re,se,C,{})}}export{he as B};
